<div class="r0 p20 pt10 col-xs-12 BGFFF" ng-controller="appVersionCtrl">
	<div class="col-xs-6 f16 fb p0 mb5">App版本管理管理</div>
	<div class="col-xs-6 f14 p0 mb5 tr">
		<a type="button" class="btn btn-primary btn-sm" id="refresh" ng-click="getData(list.page.currentPage)">
			<i class="iconfont fb">&#xe611;&nbsp;</i>
			刷新
		</a>
		<a type="button" class="btn btn-purple btn-sm" onclick="history.back(-1);">
			<i class="iconfont fb">&#xe605;&nbsp;</i>
			后退
		</a>
	</div>
	<div class="col-xs-12 bb1 bt1 pt15 p0 pb10">
		<a type="button" class="ml5 mt1 btn btn-success btn-sm fr" ng-if="showOperation('EGMAS_SOURCE')" ng-click="detail('新增版本',800,'appVersion/detail.do?id=NULL&appID='+$stateParams.appID)">
			<i class="iconfont fb">&#xe604;</i>
			&nbsp;新增版本
		</a>
		<button type="button" class="ml5 mt1 btn btn-success btn-sm fr" ng-click="getData(1);">
			<i class="iconfont">&#xe60d;</i>
			&nbsp;查询
		</button>
		<div class="form-group w250 fr ">
			<label class="sr-only" for="">版本名称</label>
			<div class="input-group">
				<div class="input-group-addon no-radius">版本名称</div>
				<input type="text" class="form-control dis-in-blo w120" placeholder="点击输入版本名称" id="versionName" ng-model="$stateParams.versionName"
					ng-focus="loadPickByName('iwidth=220|iheight=320|tag=versionCode|code=APP_VERSION_NAME|def='+$stateParams.versionName,$event);">
			</div>
		</div>
		<div class="form-group w250 fr mr10">
			<label class="sr-only" for="">版本Code</label>
			<div class="input-group">
				<div class="input-group-addon">版本Code</div>
			<input type="text" class="form-control dis-in-blo w120" placeholder="点击输入版本Code" id="versionCode" ng-model="$stateParams.versionCode"
					ng-focus="loadPickByName('iwidth=220|iheight=320|tag=versionCode|code=APP_VERSION_CODE|def='+$stateParams.versionCode,$event);">
			</div>
		</div>
		<div class="cb"></div>
	</div>
	<div class="col-xs-3 f16 fb pl0 mb10 pb5 mt20" ng-if="list.appVersionList.length>0">版本列表</div>
	<div class="col-xs-12 p0" ng-if="list.appVersionList.length>0">
		<table class="table table-bordered table-hover">
			<thead>
				<tr class="BGEEE">
					<th class="tc w70">版本名称</th>
					<th class="tc w70">版本Code</th>
					<th class="tc w100">是否强制更新</th>
					<th class="tc w120">上传时间</th>
					<th class="tc w80">上传操作员</th>
					<th class="tc w400">包文件</th>
					<th class="tc">备注/描述</th>
					<th class="tc w150">操作</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="item in list.appVersionList">
					<td class="tc">{{item.name}}</td>
					<td class="tc">{{item.code}}</td>
					<td class="tc">{{item.force}}</td>
					<td class="tc">{{getDate(item.createTime)|date:'yyyy-MM-dd HH:mm'}}</td>
					<td class="tc">{{item.createUserName}}</td>
					<td class="tc"><a href="{{item.filePathUat}}"  ng-if="item.filePathUat!=null">测试包</a> &nbsp; <a href="{{item.filePathProduct}}" ng-if="item.filePathProduct!=null">生产包</a> </td>
					<td class="tc">{{item.appVersionDesc}}</td>
					<td class="tc">
						<a class="f12 text-primary mr10 cursor" ng-click="detail('编辑【'+item.name+'  - '+ item.code+'】',800,'appVersion/detail.do?id='+item.id,'&appID='+$stateParams.appID)">
							<i class="iconfont f12">&#xe618;修改</i>
						</a>
						<a class="f12 text-danger mr10 cursor" title="删除" ng-click="del('appVersion/delete.do?id='+item.id,item.id,'确定要删除 versionName = '+item.name+' ,versionCode = '+item.code+' 吗？')">
							<i class="iconfont f12">&#xe60e;删除</i>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
		<div ui-view="page"></div>
	</div>
</div>
<div class="cb"></div>

